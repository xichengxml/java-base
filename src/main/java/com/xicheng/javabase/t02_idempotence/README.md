1. 在实际的开发项目中,一个对外暴露的接口往往会面临很多次请求，我们来解释一下幂等的概念：任意多次执行所产生的影响均与一次执行的影响相同。按照这个含义，最终的含义就是 对数据库的影响只能是一次性的，不能重复处理。如何保证其幂等性，通常有以下手段：
* 数据库建立唯一性索引，可以保证最终插入数据库的只有一条数据
* token机制，每次接口请求前先获取一个token，然后再下次请求的时候在请求的header体中加上这个token，后台进行验证，如果验证通过删除token，下次请求再次判断token
* 悲观锁或者乐观锁，悲观锁可以保证每次for update的时候其他sql无法update数据(在数据库引擎是innodb的时候,select的条件必须是唯一索引,防止锁全表)
* 先查询后判断，首先通过查询数据库是否存在数据，如果存在证明已经请求过了，直接拒绝该请求，如果没有存在，就证明是第一次进来，直接放行。
2. 原文地址: https://mp.weixin.qq.com/s?__biz=MzAxNjk4ODE4OQ==&mid=2247488868&idx=2&sn=16bfa4a8006473bc650a76b63d7bfd06&chksm=9bed3416ac9abd000014a7aec6d701974ad9f7191395151a4a2d07e1958ffba599ccb91ea08d&scene=21#wechat_redirect